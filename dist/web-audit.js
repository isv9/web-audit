!function(e){var t={};function n(o){if(t[o])return t[o].exports;var s=t[o]={i:o,l:!1,exports:{}};return e[o].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(o,s,function(t){return e[t]}.bind(null,s));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function o(e,t){return t.reduce((t,n)=>{const o=e.getEmptyElementsByTagName(n);return o.length>0&&t.push([`Empty "${n}" elements count in dom`,o]),t},[])}n.r(t);const s=["nav","header","main","footer"],r=["span","b","i"],a=["p","ul","ol","li","blockquote","small","code","strong","time","em","abbr","cite","dd","dl","dt","pre"],u=Array.from(new Array(6)).map((e,t)=>`h${t+1}`),i=["div","section","article","address","details","summary","form","button"];function m(e){const t=Object.fromEntries(s.map(t=>[t,e.getElementsByTagNameCount(t)])),n=[],o=[];return 1!==t.main&&(t.main>1?n.push("Document must have one main tag"):o.push("Document does not have main tag")),t.header<1&&o.push("Document does not have header tag"),t.nav<1&&o.push("Document does not have nav tag"),{name:"common elements count in dom",tables:[t],warnings:o,errors:n}}function c(e){const t=Object.fromEntries(r.map(t=>[t,e.getElementsByTagNameCount(t)])),n=Object.fromEntries(a.map(t=>[t,e.getElementsByTagNameCount(t)])),o=[];return Object.values({...t,...n}).some(e=>e>0)||o.push("Document does not any text tag"),{name:"text elements count in dom",errors:o,tables:[{name:"text elements",...t},{name:"text semantic elements",...n}]}}function l(e){const t=Object.fromEntries(u.map(t=>[t,e.getElementsByTagNameCount(t)])),n=[];return 1!==t.h1&&n.push("Document must have one h1"),{errors:n,name:"header elements count in dom",tables:[{...t}]}}function d(e){const t=Object.fromEntries(i.map(t=>[t,e.getElementsByTagNameCount(t)])),n=[];(function(e){const t=e.div,n=100*e.article/t,o=100*e.section/t;return n+o<90})(t)&&n.push("Document has much div");const s=[],r=o(e,i);return r.length>0&&(n.push("Document has empty blocks"),s.push(r)),t.button>0&&s.push(["buttons",e.getElementsByTagName("button")]),{warnings:n,logs:s,name:"block elements count in dom",tables:[{...t}]}}function g(e){const t=e.getElementsByTagName("a"),n=[];t.length>0&&n.push([`Document has ${t.length} links`,t]);const s=[],r=o(e,["a"]);return r.length>0&&(s.push("Document has empty links"),n.push(r)),{logs:n,warnings:s,name:"links in dom",tables:[]}}const p=["picture","source","img","image","video","map","canvas"];function h(e){const t=Object.fromEntries(p.map(t=>[t,e.getElementsByTagNameCount(t)])),n=e.querySelectorAll("img[srcset]").length,o=[`Document has ${n} img with srcset attribute`],s=[];return t.image>0&&s.push("Tag image is deprecated"),!function(e,t){const n=t.picture,o=t.source;return[n,o,e].some(e=>e>0)}(n,t)?s.push("Document does not have any flexible images"):o.push("Document has some flexible images"),{logs:o,errors:s,name:"images and multimedia in dom",tables:[t]}}const f=["acronym","big","command","content","dir","element","font","menuitem"];function b(e){const t=Object.fromEntries(f.map(t=>[t,e.getElementsByTagNameCount(t)])),n=[];return Object.values(t).some(e=>e>0)&&n.push("Document has some deprecated tag"),{name:"deprecated elements in dom",errors:n,tables:[{...t}]}}function y(e){const t=["title","description","url"].map(t=>({propertyName:t,isExisted:E(e,t)})),n=[];t.some(({isExisted:e})=>!e)&&t.forEach(({isExisted:e,propertyName:t})=>{e||n.push(`Document does not have a base meta tag 'og:${t}'`)});const o=[];if(t.some(({isExisted:e})=>e)){const e=t.filter(({isExisted:e})=>e).map(({propertyName:e})=>e);o.push(`Document has some base meta tags: '${e.join(", ")}'`)}return{warnings:n,logs:o,name:"Open Graph",tables:[]}}function E(e,t){return e.querySelectorAll(function(e){return`meta[property="og:${e}"]`}(t)).length>0}class w{constructor(e){this.webDocument=e}audit(){const e=[this.auditSemantics(),this.auditLinks(),this.auditImages(),this.auditDeprecatedTags(),this.auditSeo()];console.group("web audit"),e.forEach(w.renderAuditSectionResult),console.groupEnd()}auditLinks(){return{name:"links",auditResults:[g(this.webDocument)]}}auditImages(){return{name:"images and multimedia",auditResults:[h(this.webDocument)]}}auditDeprecatedTags(){return{name:"deprecated tags",auditResults:[b(this.webDocument)]}}auditSemantics(){return{name:"semantics",auditResults:[m(this.webDocument),l(this.webDocument),c(this.webDocument),d(this.webDocument)]}}auditSeo(){return{name:"SEO",auditResults:[y(this.webDocument)]}}static renderAuditSectionResult(e){const{name:t,auditResults:n}=e,o={errorsCount:0,warningsCount:0};n.forEach(e=>{const t=w.getAuditResultMessagesCount(e,"errors"),n=w.getAuditResultMessagesCount(e,"warnings");o.errorsCount+=t,o.warningsCount+=n}),console.groupCollapsed(`${t}, (errors="${o.errorsCount}", warnings="${o.warningsCount}")`),n.forEach(e=>w.renderAuditResult(e)),console.groupEnd()}static renderAuditResult(e){const{name:t,tables:n,errors:o=[],warnings:s=[],logs:r=[]}=e,a=w.getAuditResultMessagesCount(e,"errors"),u=w.getAuditResultMessagesCount(e,"warnings");console.groupCollapsed(`${t}, (errors="${a}", warnings="${u}")`),n.forEach(({name:e,nodes:t,...n})=>{e&&console.log(e),console.table(n)}),r.forEach(e=>Array.isArray(e)?console.log(...e):console.log(e)),console.log("Summary"),a>0||u>0?(o.forEach(e=>console.error(e)),s.forEach(e=>console.warn(e))):console.log("It is OK"),console.groupEnd()}static getAuditResultMessagesCount(e,t){let n=e[t];if(null==n&&(n=[]),Array.isArray(n))return n.length;throw new Error("Property type must be array")}}console.clear(),new w({getElementsByTagNameCount:e=>document.getElementsByTagName(e).length,querySelectorAll:e=>document.querySelectorAll(e),getEmptyElementsByTagName:e=>document.querySelectorAll(`${e}:empty`),getElementsByTagName:e=>document.getElementsByTagName(e)}).audit()}]);