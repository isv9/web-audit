!function(e){var t={};function n(o){if(t[o])return t[o].exports;var s=t[o]={i:o,l:!1,exports:{}};return e[o].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(o,s,function(t){return e[t]}.bind(null,s));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function o(e,t){return t.reduce((t,n)=>{const o=e.getEmptyElementsByTagName(n);return o.length>0&&t.push([`Empty "${n}" elements count in dom`,o]),t},[])}n.r(t);const s=["nav","header","main","footer"],r=["span","b","i"],a=["p","ul","ol","li","blockquote","small","code","strong","time","em","abbr","cite","dd","dl","dt","pre"],u=Array.from(new Array(6)).map((e,t)=>"h"+(t+1)),i=["div","section","article","address","details","summary","form","button"];function c(e){const t=e.getTagAmountMap(s),n=[],o=[];return 1!==t.main&&(t.main>1?n.push("Document must have one main tag"):o.push("Document does not have main tag")),t.header<1&&o.push("Document does not have header tag"),t.nav<1&&o.push("Document does not have nav tag"),{name:"common elements count in dom",tables:[{content:t}],warnings:o,errors:n}}function m(e){const t=e.getTagAmountMap(r),n=e.getTagAmountMap(a),o=[];return Object.values({...t,...n}).some(e=>e>0)||o.push("Document does not any text tag"),{name:"text elements count in dom",errors:o,tables:[{name:"text elements",content:t},{name:"text semantic elements",content:n}]}}function l(e){const t=e.getTagAmountMap(u),n=[];return 1!==t.h1&&n.push("Document must have one h1"),{errors:n,name:"header elements count in dom",tables:[{content:t}]}}function g(e){const t=e.getTagAmountMap(i),n=[];(function(e){const{div:t,article:n,section:o}=e;return 100*n/t+100*o/t<90})(t)&&n.push("Document has much div");const s=[],r=o(e,i);return r.length>0&&(n.push("Document has empty blocks"),s.push(r)),t.button>0&&s.push(["buttons",e.getElementsByTagName("button")]),{warnings:n,logs:s,name:"block elements count in dom",tables:[{content:t}]}}const d=["charset","coords","name","rev","shape"];function h(e){const t=e.getElementsByTagName("a"),n=[];t.length>0&&n.push([`Document has ${t.length} links`,t]);const s=[],r=o(e,["a"]);r.length>0&&(s.push("Document has empty links"),n.push(r));const a=function(e){return d.reduce((t,n)=>{const o=e.getElementsWhichHasAttribute("a",n);return o.length>0&&t.set(n,o),t},new Map)}(e),u=[];return a.size>0&&a.forEach((e,t)=>{const n={errorMessage:`Document has links which has deprecated "${t}" attribute`,links:e};u.push(n)}),{logs:n,errors:u,warnings:s,name:"links in dom"}}const p=["picture","source","img","image","video","map","canvas"];function f(e){const t=e.getTagAmountMap(p),n=e.querySelectorAll("img[srcset]").length,o=[`Document has ${n} img with srcset attribute`],s=[];return t.image>0&&s.push("Tag image is deprecated"),t.img>0&&(!function(e,t){const{picture:n,source:o}=t;return[n,o,e].some(e=>e>0)}(n,t)?s.push("Document does not have any flexible images"):o.push("Document has some flexible images")),{logs:o,errors:s,name:"images and multimedia in dom",tables:[{content:t}]}}const b=["acronym","big","command","content","dir","element","font","menuitem"];function y(e){const t=e.getTagAmountMap(b),n=Object.fromEntries(Object.entries(t).filter(([,e])=>e>0)),o=Object.values(n).length>0,s=[],r=[];return o?s.push("Document has some deprecated tag"):r.push("Document does not have deprecated tags"),{name:"deprecated elements in dom",errors:s,logs:r,tables:o?[{content:n}]:void 0}}function E(e){const t=["title","description","url"].map(t=>({propertyName:t,isExisted:A(e,t)})),n=[];t.some(({isExisted:e})=>!e)&&t.forEach(({isExisted:e,propertyName:t})=>{e||n.push(`Document does not have a base meta tag 'og:${t}'`)});const o=[];if(t.some(({isExisted:e})=>e)){const e=t.filter(({isExisted:e})=>e).map(({propertyName:e})=>e);o.push(`Document has some base meta tags: '${e.join(", ")}'`)}return{warnings:n,logs:o,name:"Open Graph"}}function A(e,t){return e.querySelectorAll(function(e){return`meta[property="og:${e}"]`}(t)).length>0}class w{constructor(e){this.webDocument=e}audit(){const e=[this.auditSemantics(),this.auditLinks(),this.auditImages(),this.auditDeprecatedTags(),this.auditSeo()];console.group("web audit"),e.forEach(w.renderAuditSectionResult),console.groupEnd()}auditLinks(){return{name:"links",auditResults:[h(this.webDocument)]}}auditImages(){return{name:"images and multimedia",auditResults:[f(this.webDocument)]}}auditDeprecatedTags(){return{name:"deprecated tags",auditResults:[y(this.webDocument)]}}auditSemantics(){return{name:"semantics",auditResults:[c(this.webDocument),l(this.webDocument),m(this.webDocument),g(this.webDocument)]}}auditSeo(){return{name:"SEO",auditResults:[E(this.webDocument)]}}static renderAuditSectionResult(e){const{name:t,auditResults:n}=e,o={errorsCount:0,warningsCount:0};n.forEach(e=>{const t=w.getAuditResultMessagesCount(e,"errors"),n=w.getAuditResultMessagesCount(e,"warnings");o.errorsCount+=t,o.warningsCount+=n}),console.groupCollapsed(`${t}, (errors="${o.errorsCount}", warnings="${o.warningsCount}")`),n.forEach(e=>w.renderAuditResult(e)),console.groupEnd()}static renderAuditResult(e){const{name:t,tables:n=[],errors:o=[],warnings:s=[],logs:r=[]}=e,a=w.getAuditResultMessagesCount(e,"errors"),u=w.getAuditResultMessagesCount(e,"warnings");console.groupCollapsed(`${t}, (errors="${a}", warnings="${u}")`),n.forEach(({name:e,content:t})=>{e&&console.log(e),console.table(t)}),r.forEach(e=>Array.isArray(e)?console.log(...e):console.log(e)),console.log("Summary"),a>0||u>0?(o.forEach(e=>console.error(e)),s.forEach(e=>console.warn(e))):console.log("It is OK"),console.groupEnd()}static getAuditResultMessagesCount(e,t){let n=e[t];if(null==n&&(n=[]),Array.isArray(n))return n.length;throw new Error("Property type must be array")}}console.clear(),new w({getTagAmount:e=>document.getElementsByTagName(e).length,getTagAmountMap:e=>Object.fromEntries(e.map(e=>[e,document.getElementsByTagName(e).length])),querySelectorAll:e=>document.querySelectorAll(e),getEmptyElementsByTagName:e=>document.querySelectorAll(e+":empty"),getElementsByTagName:e=>document.getElementsByTagName(e),getElementsWhichHasAttribute:(e,t)=>document.querySelectorAll(`${e}[${t}]`)}).audit()}]);