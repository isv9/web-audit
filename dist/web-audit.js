!function(e){var t={};function n(s){if(t[s])return t[s].exports;var o=t[s]={i:s,l:!1,exports:{}};return e[s].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(s,o,function(t){return e[t]}.bind(null,o));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function s(e,t){return t.reduce((t,n)=>{const s=e.getEmptyElementsByTagName(n);return s.length>0&&t.push([`Empty "${n}" elements count in dom`,s]),t},[])}n.r(t);const o=["nav","header","main","footer"],r=["span","b","i"],a=["p","ul","ol","li","blockquote","small","code","strong","time","em","abbr","cite","dd","dl","dt","pre"],u=Array.from(new Array(6)).map((e,t)=>`h${t+1}`),i=["div","section","article","address","details","summary","form","button"];function m(e){const t=Object.fromEntries(o.map(t=>[t,e.getElementsByTagNameCount(t)])),n=[],s=[];return 1!==t.main&&(t.main>1?n.push("Document must have one main tag"):s.push("Document does not have main tag")),t.header<1&&s.push("Document does not have header tag"),t.nav<1&&s.push("Document does not have nav tag"),{name:"common elements count in dom",tables:[t],warnings:s,errors:n}}function c(e){const t=Object.fromEntries(r.map(t=>[t,e.getElementsByTagNameCount(t)])),n=Object.fromEntries(a.map(t=>[t,e.getElementsByTagNameCount(t)])),s=[];return Object.values({...t,...n}).some(e=>e>0)||s.push("Document does not any text tag"),{name:"text elements count in dom",errors:s,tables:[{name:"text elements",...t},{name:"text semantic elements",...n}]}}function l(e){const t=Object.fromEntries(u.map(t=>[t,e.getElementsByTagNameCount(t)])),n=[];return 1!==t.h1&&n.push("Document must have one h1"),{errors:n,name:"header elements count in dom",tables:[{...t}]}}function d(e){const t=Object.fromEntries(i.map(t=>[t,e.getElementsByTagNameCount(t)])),n=[];(function(e){const t=e.div,n=100*e.article/t,s=100*e.section/t;return n+s<90})(t)&&n.push("Document has much div");const o=[],r=s(e,i);return r.length>0&&(n.push("Document has empty blocks"),o.push(r)),t.button>0&&o.push(["buttons",e.getElementsByTagName("button")]),{warnings:n,logs:o,name:"block elements count in dom",tables:[{...t}]}}const g=["charset","coords","name","rev","shape"];function h(e){const t=e.getElementsByTagName("a"),n=[];t.length>0&&n.push([`Document has ${t.length} links`,t]);const o=[],r=s(e,["a"]);r.length>0&&(o.push("Document has empty links"),n.push(r));const a=function(e){return g.reduce((t,n)=>{const s=e.getElementsWhichHasAttribute("a",n);return s.length>0&&t.set(n,s),t},new Map)}(e),u=[];return a.size>0&&a.forEach((e,t)=>{const n={errorMessage:`Document has links which has deprecated "${t}" attribute`,links:e};u.push(n)}),{logs:n,errors:u,warnings:o,name:"links in dom",tables:[]}}const p=["picture","source","img","image","video","map","canvas"];function f(e){const t=Object.fromEntries(p.map(t=>[t,e.getElementsByTagNameCount(t)])),n=e.querySelectorAll("img[srcset]").length,s=[`Document has ${n} img with srcset attribute`],o=[];return t.image>0&&o.push("Tag image is deprecated"),!function(e,t){const n=t.picture,s=t.source;return[n,s,e].some(e=>e>0)}(n,t)?o.push("Document does not have any flexible images"):s.push("Document has some flexible images"),{logs:s,errors:o,name:"images and multimedia in dom",tables:[t]}}const b=["acronym","big","command","content","dir","element","font","menuitem"];function y(e){const t=Object.fromEntries(b.map(t=>[t,e.getElementsByTagNameCount(t)])),n=[];return Object.values(t).some(e=>e>0)&&n.push("Document has some deprecated tag"),{name:"deprecated elements in dom",errors:n,tables:[{...t}]}}function E(e){const t=["title","description","url"].map(t=>({propertyName:t,isExisted:w(e,t)})),n=[];t.some(({isExisted:e})=>!e)&&t.forEach(({isExisted:e,propertyName:t})=>{e||n.push(`Document does not have a base meta tag 'og:${t}'`)});const s=[];if(t.some(({isExisted:e})=>e)){const e=t.filter(({isExisted:e})=>e).map(({propertyName:e})=>e);s.push(`Document has some base meta tags: '${e.join(", ")}'`)}return{warnings:n,logs:s,name:"Open Graph",tables:[]}}function w(e,t){return e.querySelectorAll(function(e){return`meta[property="og:${e}"]`}(t)).length>0}class D{constructor(e){this.webDocument=e}audit(){const e=[this.auditSemantics(),this.auditLinks(),this.auditImages(),this.auditDeprecatedTags(),this.auditSeo()];console.group("web audit"),e.forEach(D.renderAuditSectionResult),console.groupEnd()}auditLinks(){return{name:"links",auditResults:[h(this.webDocument)]}}auditImages(){return{name:"images and multimedia",auditResults:[f(this.webDocument)]}}auditDeprecatedTags(){return{name:"deprecated tags",auditResults:[y(this.webDocument)]}}auditSemantics(){return{name:"semantics",auditResults:[m(this.webDocument),l(this.webDocument),c(this.webDocument),d(this.webDocument)]}}auditSeo(){return{name:"SEO",auditResults:[E(this.webDocument)]}}static renderAuditSectionResult(e){const{name:t,auditResults:n}=e,s={errorsCount:0,warningsCount:0};n.forEach(e=>{const t=D.getAuditResultMessagesCount(e,"errors"),n=D.getAuditResultMessagesCount(e,"warnings");s.errorsCount+=t,s.warningsCount+=n}),console.groupCollapsed(`${t}, (errors="${s.errorsCount}", warnings="${s.warningsCount}")`),n.forEach(e=>D.renderAuditResult(e)),console.groupEnd()}static renderAuditResult(e){const{name:t,tables:n,errors:s=[],warnings:o=[],logs:r=[]}=e,a=D.getAuditResultMessagesCount(e,"errors"),u=D.getAuditResultMessagesCount(e,"warnings");console.groupCollapsed(`${t}, (errors="${a}", warnings="${u}")`),n.forEach(({name:e,nodes:t,...n})=>{e&&console.log(e),console.table(n)}),r.forEach(e=>Array.isArray(e)?console.log(...e):console.log(e)),console.log("Summary"),a>0||u>0?(s.forEach(e=>console.error(e)),o.forEach(e=>console.warn(e))):console.log("It is OK"),console.groupEnd()}static getAuditResultMessagesCount(e,t){let n=e[t];if(null==n&&(n=[]),Array.isArray(n))return n.length;throw new Error("Property type must be array")}}console.clear(),new D({getElementsByTagNameCount:e=>document.getElementsByTagName(e).length,querySelectorAll:e=>document.querySelectorAll(e),getEmptyElementsByTagName:e=>document.querySelectorAll(`${e}:empty`),getElementsByTagName:e=>document.getElementsByTagName(e),getElementsWhichHasAttribute:(e,t)=>document.querySelectorAll(`${e}[${t}]`)}).audit()}]);